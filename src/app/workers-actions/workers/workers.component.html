@if (dataSource.loading()) {
<div class="fixed grid place-content-center w-full h-full bg-black/50 z-50">
  <mat-spinner></mat-spinner>
</div>
}

<div
  class="flex flex-col relative max-h-[calc(100%-3rem)] sm:max-h-[calc(100%-4rem)] overflow-hidden"
>
  <app-search
    (searchRequest)="searchQuery($event)"
    (resetSearch)="resetSearch()"
  />

  <div class="mat-elevation-z8 overflow-auto">
    <table mat-table class="w-full p-1" matSort aria-label="Elements">
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>Id</th>
        <td mat-cell *matCellDef="let row">{{ row.id }}</td>
      </ng-container>

      <ng-container matColumnDef="firstName">
        <th mat-header-cell *matHeaderCellDef>ImiÄ™</th>
        <td mat-cell *matCellDef="let row">{{ row.firstName }}</td>
      </ng-container>

      <ng-container matColumnDef="lastName">
        <th mat-header-cell *matHeaderCellDef>Nazwisko</th>
        <td mat-cell *matCellDef="let row">{{ row.lastName }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      #paginator
      [length]="dataSource.count"
      [pageIndex]="0"
      [pageSizeOptions]="[15, 30, 45]"
      aria-label="Select page"
    >
    </mat-paginator>
  </div>
  <div class="fixed bottom-1 right-2">
    <button mat-fab color="primary" aria-label="Dodaj">
      <mat-icon>add</mat-icon>
    </button>
  </div>
</div>
